Proceeding with model label "severe_toxic"
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/train_pre.csv
Parsing completed. Parsed 100 lines in 0.736123 secs.
Read 122167 lines. Lines per second: 192475	
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/train_pre.csv
Parsing completed. Parsed 159571 lines in 0.787705 secs.
TRAINING TABLE

Columns:
    id	string
    comment_text	string
    toxic	integer
    severe_toxic	integer
    obscene	integer
    threat	integer
    insult	integer
    identity_hate	integer
    severe_toxic_label	string
Rows: ?
Data:
+----------------+----------------+----------------+----------------+----------------+
| id             | comment_text   | toxic          | severe_toxic   | obscene        |
+----------------+----------------+----------------+----------------+----------------+
| 0000997932d7...| Explanation ...| 0              | 0              | 0              |
| 000103f0d9cf...| D'aww! He ma...| 0              | 0              | 0              |
| 000113f07ec0...| Hey man, I'm...| 0              | 0              | 0              |
| 0001b41b1c6b...| " More I can...| 0              | 0              | 0              |
| 0001d958c54c...| You, sir, ar...| 0              | 0              | 0              |
| 00025465d472...| "  Congratul...| 0              | 0              | 0              |
| 0002bcb3da6c...| COCKSUCKER B...| 1              | 1              | 1              |
| 00031b1e95af...| Your vandali...| 0              | 0              | 0              |
| 0005300084f9...| " Fair use r...| 0              | 0              | 0              |
| 00054a5e18b5...| bbq   be a m...| 0              | 0              | 0              |
+----------------+----------------+----------------+----------------+----------------+
+----------------+----------------+----------------+--------------------+
| threat         | insult         | identity_hate  | severe_toxic_label |
+----------------+----------------+----------------+--------------------+
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 1              | 0              | severe_toxic       |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
+----------------+----------------+----------------+--------------------+
? rows x 9 columns]

SIZE: (rows: 127715, columns: 9)
TEST TABLE

Columns:
    id	string
    comment_text	string
    toxic	integer
    severe_toxic	integer
    obscene	integer
    threat	integer
    insult	integer
    identity_hate	integer
    severe_toxic_label	string
Rows: ?
Data:
+----------------+----------------+----------------+----------------+----------------+
| id             | comment_text   | toxic          | severe_toxic   | obscene        |
+----------------+----------------+----------------+----------------+----------------+
| 00037261f536...| Sorry if the...| 0              | 0              | 0              |
| 00040093b268...| alignment on...| 0              | 0              | 0              |
| 00070ef96486...| Oh, and the ...| 0              | 0              | 0              |
| 0009801bd85e...| The Mitsurug...| 0              | 0              | 0              |
| 000cfee90f50...| "  Re-consid...| 0              | 0              | 0              |
| 00128363e367...| Not sure abo...| 0              | 0              | 0              |
| 001325b8b20e...| Praise   loo...| 0              | 0              | 0              |
| 00151a9f93c6...| "   ""Mainla...| 0              | 0              | 0              |
| 00169857adbc...| Hi Explicit,...| 0              | 0              | 0              |
| 001d8e7be417...| "  BI, you s...| 0              | 0              | 0              |
+----------------+----------------+----------------+----------------+----------------+
+----------------+----------------+----------------+--------------------+
| threat         | insult         | identity_hate  | severe_toxic_label |
+----------------+----------------+----------------+--------------------+
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
| 0              | 0              | 0              | non-severe_toxic   |
+----------------+----------------+----------------+--------------------+
? rows x 9 columns]

SIZE: (rows: 31856, columns: 9)
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/test_pre.csv
Parsing completed. Parsed 100 lines in 0.742816 secs.
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/test_pre.csv
Parsing completed. Parsed 153164 lines in 0.687124 secs.
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/test_labels.csv
Parsing completed. Parsed 100 lines in 0.105669 secs.
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/test_labels.csv
Parsing completed. Parsed 153164 lines in 0.08705 secs.
SCORING TABLE

Columns:
    id	string
    comment_text	string
    severe_toxic	integer
    severe_toxic_label	string
Rows: 63978
Data:
+----------------+----------------+----------------+--------------------+
| id             | comment_text   | severe_toxic   | severe_toxic_label |
+----------------+----------------+----------------+--------------------+
| 0001ea8717f6...| Thank you fo...| 0              | non-severe_toxic   |
| 000247e83dcc...| :Dear god th...| 0              | non-severe_toxic   |
| 0002f87b1611...| "::: Somebod...| 0              | non-severe_toxic   |
| 0003e1cccfd5...| "    It says...| 0              | non-severe_toxic   |
| 00059ace3e3e...| "    == Befo...| 0              | non-severe_toxic   |
| 000663aff0ff...| this other o...| 0              | non-severe_toxic   |
| 000689dd34e2...| == Reason fo...| 0              | non-severe_toxic   |
| 000844b52dee...| |blocked]] f...| 0              | non-severe_toxic   |
| 00091c35fa9d...| == Arabs are...| 0              | non-severe_toxic   |
| 000968ce11f5...| Please stop....| 0              | non-severe_toxic   |
+----------------+----------------+----------------+--------------------+
[63978 rows x 4 columns]

SIZE: (rows: 63978, columns: 4)
Automatically generating validation set from 5% of the data.
Tokenizing data and extracting features
10% complete
20% complete
30% complete
40% complete
50% complete
60% complete
70% complete
80% complete
90% complete
100% complete
Starting MaxEnt training with 121170 samples
Iteration 1 training accuracy 0.989857
Iteration 2 training accuracy 0.989915
Iteration 3 training accuracy 0.990204
Iteration 4 training accuracy 0.991277
Iteration 5 training accuracy 0.992317
Iteration 6 training accuracy 0.993654
Iteration 7 training accuracy 0.994999
Iteration 8 training accuracy 0.995321
Iteration 9 training accuracy 0.995791
Iteration 10 training accuracy 0.996352
Iteration 11 training accuracy 0.996724
Iteration 12 training accuracy 0.997078
Iteration 13 training accuracy 0.997326
Iteration 14 training accuracy 0.997499
Iteration 15 training accuracy 0.997565
Iteration 16 training accuracy 0.997697
Iteration 17 training accuracy 0.997755
Iteration 18 training accuracy 0.997953
Iteration 19 training accuracy 0.998052
Iteration 20 training accuracy 0.998127
Iteration 21 training accuracy 0.998201
Iteration 22 training accuracy 0.998209
Iteration 23 training accuracy 0.998267
Iteration 24 training accuracy 0.998333
Iteration 25 training accuracy 0.998399
Iteration 26 training accuracy 0.998432
Iteration 27 training accuracy 0.998440
Iteration 28 training accuracy 0.998473
Iteration 29 training accuracy 0.998531
Iteration 30 training accuracy 0.998539
Iteration 31 training accuracy 0.998572
Iteration 32 training accuracy 0.998589
Iteration 33 training accuracy 0.998605
Iteration 34 training accuracy 0.998622
Iteration 35 training accuracy 0.998630
Iteration 36 training accuracy 0.998638
Finished MaxEnt training in 30.26 seconds
Classifier for "severe_toxic":
TextClassifier

Parameters
Algorithm Type: MaxEnt Model
Language: Optional(__C.NLLanguage(_rawValue: en))

Performance on Training Data
Number of examples: 121170
Number of classes: 2
Accuracy: 99.86%

Performance on Validation Data
Number of examples: 6545
Number of classes: 2
Accuracy: 98.38%

SAVING MODEL severe_toxic TO ./Models/severe_toxicClassifier.mlmodel
Trained model successfully saved at /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Models/severe_toxicClassifier.mlmodel.

SAMPLE PREDICTIONS FOR severe_toxic

Columns:
    comment_text	string
    severe_toxic	string
Rows: 10
Data:
+----------------+----------------+
| comment_text   | severe_toxic   |
+----------------+----------------+
| Sorry if the...| non-severe_t...|
| alignment on...| non-severe_t...|
| Oh, and the ...| non-severe_t...|
| The Mitsurug...| non-severe_t...|
| "  Re-consid...| non-severe_t...|
| Not sure abo...| non-severe_t...|
| Praise   loo...| non-severe_t...|
| "   ""Mainla...| non-severe_t...|
| Hi Explicit,...| non-severe_t...|
| "  BI, you s...| non-severe_t...|
+----------------+----------------+
[10 rows x 2 columns]

SIZE: (rows: 10, columns: 2)
EVALUATION METRICS FOR severe_toxic:
----------------------------------
Number of examples: 31856
Number of classes: 2
Accuracy: 98.55%

******CONFUSION MATRIX******
----------------------------------
True\Pred        non-severe_toxic  severe_toxic      
non-severe_toxic 31294             254               
severe_toxic     208               100               

******PRECISION RECALL******
----------------------------------
Class            Precision(%)   Recall(%)      
non-severe_toxic 99.34          99.19          
severe_toxic     28.25          32.47          


./create_models: line 2:  3645 Killed: 9               swift main.swift $modelLabel

real	38m29.393s
user	36m48.957s
sys	1m55.586s
