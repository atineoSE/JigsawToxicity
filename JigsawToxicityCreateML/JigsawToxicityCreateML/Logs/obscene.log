Proceeding with model label "obscene"
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/train_pre.csv
Parsing completed. Parsed 100 lines in 0.731823 secs.
Read 122167 lines. Lines per second: 190266	
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/train_pre.csv
Parsing completed. Parsed 159571 lines in 0.793336 secs.
TRAINING TABLE

Columns:
    id	string
    comment_text	string
    toxic	integer
    severe_toxic	integer
    obscene	integer
    threat	integer
    insult	integer
    identity_hate	integer
    obscene_label	string
Rows: ?
Data:
+----------------+----------------+----------------+----------------+----------------+
| id             | comment_text   | toxic          | severe_toxic   | obscene        |
+----------------+----------------+----------------+----------------+----------------+
| 0000997932d7...| Explanation ...| 0              | 0              | 0              |
| 000103f0d9cf...| D'aww! He ma...| 0              | 0              | 0              |
| 000113f07ec0...| Hey man, I'm...| 0              | 0              | 0              |
| 0001b41b1c6b...| " More I can...| 0              | 0              | 0              |
| 0001d958c54c...| You, sir, ar...| 0              | 0              | 0              |
| 00025465d472...| "  Congratul...| 0              | 0              | 0              |
| 0002bcb3da6c...| COCKSUCKER B...| 1              | 1              | 1              |
| 00031b1e95af...| Your vandali...| 0              | 0              | 0              |
| 0005300084f9...| " Fair use r...| 0              | 0              | 0              |
| 00054a5e18b5...| bbq   be a m...| 0              | 0              | 0              |
+----------------+----------------+----------------+----------------+----------------+
+----------------+----------------+----------------+----------------+
| threat         | insult         | identity_hate  | obscene_label  |
+----------------+----------------+----------------+----------------+
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 1              | 0              | obscene        |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
+----------------+----------------+----------------+----------------+
? rows x 9 columns]

SIZE: (rows: 127715, columns: 9)
TEST TABLE

Columns:
    id	string
    comment_text	string
    toxic	integer
    severe_toxic	integer
    obscene	integer
    threat	integer
    insult	integer
    identity_hate	integer
    obscene_label	string
Rows: ?
Data:
+----------------+----------------+----------------+----------------+----------------+
| id             | comment_text   | toxic          | severe_toxic   | obscene        |
+----------------+----------------+----------------+----------------+----------------+
| 00037261f536...| Sorry if the...| 0              | 0              | 0              |
| 00040093b268...| alignment on...| 0              | 0              | 0              |
| 00070ef96486...| Oh, and the ...| 0              | 0              | 0              |
| 0009801bd85e...| The Mitsurug...| 0              | 0              | 0              |
| 000cfee90f50...| "  Re-consid...| 0              | 0              | 0              |
| 00128363e367...| Not sure abo...| 0              | 0              | 0              |
| 001325b8b20e...| Praise   loo...| 0              | 0              | 0              |
| 00151a9f93c6...| "   ""Mainla...| 0              | 0              | 0              |
| 00169857adbc...| Hi Explicit,...| 0              | 0              | 0              |
| 001d8e7be417...| "  BI, you s...| 0              | 0              | 0              |
+----------------+----------------+----------------+----------------+----------------+
+----------------+----------------+----------------+----------------+
| threat         | insult         | identity_hate  | obscene_label  |
+----------------+----------------+----------------+----------------+
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
| 0              | 0              | 0              | non-obscene    |
+----------------+----------------+----------------+----------------+
? rows x 9 columns]

SIZE: (rows: 31856, columns: 9)
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/test_pre.csv
Parsing completed. Parsed 100 lines in 0.741801 secs.
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/test_pre.csv
Parsing completed. Parsed 153164 lines in 0.693693 secs.
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/test_labels.csv
Parsing completed. Parsed 100 lines in 0.107018 secs.
Finished parsing file /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Data/test_labels.csv
Parsing completed. Parsed 153164 lines in 0.083282 secs.
SCORING TABLE

Columns:
    obscene	integer
    id	string
    comment_text	string
    obscene_label	string
Rows: 63978
Data:
+----------------+----------------+----------------+----------------+
| obscene        | id             | comment_text   | obscene_label  |
+----------------+----------------+----------------+----------------+
| 0              | 0001ea8717f6...| Thank you fo...| non-obscene    |
| 0              | 000247e83dcc...| :Dear god th...| non-obscene    |
| 0              | 0002f87b1611...| "::: Somebod...| non-obscene    |
| 0              | 0003e1cccfd5...| "    It says...| non-obscene    |
| 0              | 00059ace3e3e...| "    == Befo...| non-obscene    |
| 0              | 000663aff0ff...| this other o...| non-obscene    |
| 0              | 000689dd34e2...| == Reason fo...| non-obscene    |
| 0              | 000844b52dee...| |blocked]] f...| non-obscene    |
| 0              | 00091c35fa9d...| == Arabs are...| non-obscene    |
| 0              | 000968ce11f5...| Please stop....| non-obscene    |
+----------------+----------------+----------------+----------------+
[63978 rows x 4 columns]

SIZE: (rows: 63978, columns: 4)
Automatically generating validation set from 5% of the data.
Tokenizing data and extracting features
10% complete
20% complete
30% complete
40% complete
50% complete
60% complete
70% complete
80% complete
90% complete
100% complete
Starting MaxEnt training with 121170 samples
Iteration 1 training accuracy 0.946786
Iteration 2 training accuracy 0.948807
Iteration 3 training accuracy 0.972468
Iteration 4 training accuracy 0.976323
Iteration 5 training accuracy 0.979566
Iteration 6 training accuracy 0.982496
Iteration 7 training accuracy 0.985698
Iteration 8 training accuracy 0.988207
Iteration 9 training accuracy 0.990493
Iteration 10 training accuracy 0.992218
Iteration 11 training accuracy 0.993158
Iteration 12 training accuracy 0.994297
Iteration 13 training accuracy 0.994949
Iteration 14 training accuracy 0.995560
Iteration 15 training accuracy 0.995923
Iteration 16 training accuracy 0.996418
Iteration 17 training accuracy 0.996468
Iteration 18 training accuracy 0.996550
Iteration 19 training accuracy 0.996798
Iteration 20 training accuracy 0.997169
Iteration 21 training accuracy 0.997235
Iteration 22 training accuracy 0.997433
Iteration 23 training accuracy 0.997508
Iteration 24 training accuracy 0.997590
Iteration 25 training accuracy 0.997673
Iteration 26 training accuracy 0.997689
Iteration 27 training accuracy 0.997788
Iteration 28 training accuracy 0.997879
Iteration 29 training accuracy 0.997937
Iteration 30 training accuracy 0.998019
Iteration 31 training accuracy 0.998077
Iteration 32 training accuracy 0.998127
Iteration 33 training accuracy 0.998151
Iteration 34 training accuracy 0.998176
Iteration 35 training accuracy 0.998217
Iteration 36 training accuracy 0.998250
Iteration 37 training accuracy 0.998267
Iteration 38 training accuracy 0.998292
Finished MaxEnt training in 45.96 seconds
Classifier for "obscene":
TextClassifier

Parameters
Algorithm Type: MaxEnt Model
Language: Optional(__C.NLLanguage(_rawValue: en))

Performance on Training Data
Number of examples: 121170
Number of classes: 2
Accuracy: 99.83%

Performance on Validation Data
Number of examples: 6545
Number of classes: 2
Accuracy: 97.17%

SAVING MODEL obscene TO ./Models/obsceneClassifier.mlmodel
Trained model successfully saved at /Volumes/MEDIA&DEV/dev/ML_data/JigsawToxic/JigsawToxicity/JigsawToxicity/Models/obsceneClassifier.mlmodel.

SAMPLE PREDICTIONS FOR obscene

Columns:
    comment_text	string
    obscene	string
Rows: 10
Data:
+----------------+----------------+
| comment_text   | obscene        |
+----------------+----------------+
| Sorry if the...| non-obscene    |
| alignment on...| non-obscene    |
| Oh, and the ...| non-obscene    |
| The Mitsurug...| non-obscene    |
| "  Re-consid...| non-obscene    |
| Not sure abo...| non-obscene    |
| Praise   loo...| non-obscene    |
| "   ""Mainla...| non-obscene    |
| Hi Explicit,...| non-obscene    |
| "  BI, you s...| non-obscene    |
+----------------+----------------+
[10 rows x 2 columns]

SIZE: (rows: 10, columns: 2)
EVALUATION METRICS FOR obscene:
----------------------------------
Number of examples: 31856
Number of classes: 2
Accuracy: 96.84%

******CONFUSION MATRIX******
----------------------------------
True\Pred   non-obscene  obscene      
non-obscene 29680        500          
obscene     507          1169         

******PRECISION RECALL******
----------------------------------
Class       Precision(%)   Recall(%)      
non-obscene 98.32          98.34          
obscene     70.04          69.75          


./create_models: line 2:  4822 Killed: 9               swift main.swift $modelLabel

real	37m56.394s
user	36m26.162s
sys	1m34.871s
